<div *ngIf="!flora; else forminfo">
 <form [formGroup]="speciesForm" (ngSubmit)="addPost(speciesForm.value)">
   <div class="form-container">
     <div class="row columns">
       <h1>Species Form</h1>
    
       <div style="width: 100%;">
       <div style="float:left; width: 49%">
   
       <label>Flora of:
         <input type="text" formControlName="flora">
       </label>
       <div class="alert" *ngIf="!speciesForm.controls['flora'].valid && speciesForm.controls['flora'].touched">{{ titleAlert }}</div>

       <label>Family:
         <input type="text" formControlName="family">
       </label>
       <div class="ng-valid[required]" [hidden]="speciesForm.controls['family'].pristine"></div>

       <label>Genus:
         <input type="text" formControlName="genus">
       </label>
       <div class="alert" *ngIf="!speciesForm.controls['genus'].valid && speciesForm.controls['genus'].touched">{{ titleAlert }}</div>

       <label>Species:
         <input type="text" formControlName="species">
       </label>

       <label>Sub-species, variety, OR other epithet:
         <input type="text" formControlName="other">
       </label>
       
       <label>Country:
         <input type="text" formControlName="country">
       </label>
       
       <label>State/Province:
         <input type="text" formControlName="state">
       </label>

       <label>Locality:
         <input type="text" formControlName="locality">
       </label>
       <div class="alert" *ngIf="!speciesForm.controls['locality'].valid && speciesForm.controls['locality'].touched">{{ titleAlert }}</div>

       <label>Coordinates:
         <input type="text" formControlName="coord">
       </label>

       </div>
   
       <div style="float:right; width: 49%">

       <label>Elevation:
         <input type="text" formControlName="elevation">
       </label>

       <label>Ecology (soil type, moisture, habitat, etc):
         <input type="text" formControlName="ecology">
       </label>
      
       <label>Associated species (Latin names):
         <input type="text" formControlName="otherSp">
       </label>

       <label>Description of plant:
         <input type="text" formControlName="description">
       </label>
	
       <label>Voucher information (study title, GENBANK #, etc):
         <input type="text" formControlName="voucher">
       </label>
       
       <label>Collector:
         <input type="text" formControlName="collector">
       </label>
       <div class="alert" *ngIf="!speciesForm.controls['collector'].valid && speciesForm.controls['collector'].touched">{{ titleAlert }}</div>

       <label>Additional Collectors:
         <input type="text" formControlName="party">
       </label>

       <label>Collection Number:
         <input type="text" formControlName="colNumber">
       </label>
       <div class="alert" *ngIf="!speciesForm.controls['colNumber'].valid && speciesForm.controls['colNumber'].touched">{{ titleAlert }}</div>
       
       <label>Date (yyyy-MM-dd):
         <input type="text" formControlName="date">
       </label> 
       <div class="alert" *ngIf="!speciesForm.controls['date'].valid && speciesForm.controls['date'].touched">{{ titleAlert }}</div>

       </div>
       </div>
       <div style="clear:both"></div>

       <input type="submit" class="button" value="Verify and Add" [disabled]="!speciesForm.valid"> 
       
       <input type="reset" class="button" value="Reset form">

       <input class="button" value="View output" (click)="toggleEditor('table')">
      </div> 
   </div>
 </form>
</div>

<ng-template #forminfo>
  <div class="form-container">

  <table id = "table1" class="export-table" style="width: 85%; margin-top: 1px">
          <thead>
              <tr>
                  <th>Family</th>
                  <th>Genus</th>
                  <th>Species</th> 
		  <th>Sub-sp., variety, etc</th>
		  <th>Locality</th> 
		  <th>State</th>
		  <th>Country</th>
		  <th>Elevation</th>
		  <th>Coordinates</th>
		  <th>Ecology</th>
		  <th>Associated species</th>
		  <th>Description</th>
		  <th>Voucher Info.</th>
                  <th>Collector</th>
		  <th>Additional Collectors</th>
		  <th>Collection number</th>
		  <th>Date</th>
              </tr>
          </thead>
          <tbody>
              <tr ng-repeat="item in reportData">
                  <td>{{ family }}</td>
                  <td>{{ genus }}</td>
                  <td>{{ species }}</td>
		  <td>{{ other }}</td>
		  <td>{{ locality }}</td>
		  <td>{{ state }}</td>
		  <td>{{ country }}</td>
		  <td>{{ elevation }}</td>
		  <td>{{ coord }}</td>
		  <td>{{ ecology }}</td>
		  <td>{{ otherSp }}</td>
		  <td>{{ description }}</td>
		  <td>{{ voucher }}</td>
                  <td>{{ collector}}</td>
		  <td>{{ party }}</td>
		  <td>{{ colNumber }}</td>
		  <td>{{ date }}</td>
              </tr>
          </tbody>
    </table>

    <input type="reset" class="button" value="Back" formaction="submitted=false">


    <button export-to-csv>Export as CSV</button>
    
    <input type="button" class="button" value="Export as CSV" formaction="$('#table1').table2CSV({header:['family','genus','species','collector']})">
    
  </div>
</ng-template>
